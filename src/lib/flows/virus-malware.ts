import { FlowStep } from '../diagnostic-flows';

export const virusMalwareFlows: Record<string, FlowStep> = {
  // Main Virus/Malware Flow
  'virus-main': {
    id: 'virus-main',
    type: 'question',
    title: 'Virus/Malware Concerns',
    content: 'What symptoms are you experiencing?',
    choices: [
      { id: 'popup-ads', text: 'Pop-up ads everywhere', nextStep: 'virus-adware' },
      { id: 'slow-virus', text: 'Computer very slow', nextStep: 'virus-performance' },
      { id: 'strange-programs', text: 'Unknown programs running', nextStep: 'virus-unknown-programs' },
      { id: 'browser-hijacked', text: 'Browser homepage changed', nextStep: 'virus-browser' },
      { id: 'suspicious-emails', text: 'Suspicious emails being sent', nextStep: 'virus-email-compromise' },
      { id: 'ransomware-files', text: 'Files encrypted/can\'t open', nextStep: 'virus-ransomware' },
      { id: 'prevention', text: 'Just want protection advice', nextStep: 'virus-prevention' }
    ]
  },

  // Adware Branch
  'virus-adware': {
    id: 'virus-adware',
    type: 'diagnostic',
    title: 'Pop-up Ads Issue',
    content: 'Where are you seeing these pop-up ads?',
    choices: [
      { id: 'ads-browser-only', text: 'Only in web browser', nextStep: 'virus-browser-adware' },
      { id: 'ads-everywhere', text: 'Even when browser is closed', nextStep: 'virus-system-adware' },
      { id: 'ads-specific-sites', text: 'Only on certain websites', nextStep: 'virus-website-ads' },
      { id: 'ads-random-times', text: 'Random times, different places', nextStep: 'virus-malicious-adware' }
    ]
  },

  'virus-browser-adware': {
    id: 'virus-browser-adware',
    type: 'diagnostic',
    title: 'Browser Adware',
    content: 'Have you recently installed any browser extensions, toolbars, or "free" software?',
    choices: [
      { id: 'recent-extensions', text: 'Yes, recent browser extensions', nextStep: 'virus-extension-removal' },
      { id: 'recent-free-software', text: 'Yes, downloaded free software', nextStep: 'virus-bundled-adware' },
      { id: 'no-recent-installs', text: 'No, nothing recent', nextStep: 'virus-browser-hijack' },
      { id: 'unsure-installs', text: 'Not sure what I installed', nextStep: 'virus-system-scan' }
    ]
  },

  'virus-extension-removal': {
    id: 'virus-extension-removal',
    type: 'solution',
    title: 'Remove Malicious Extensions',
    content: 'Malicious browser extensions cause pop-up ads. You should remove suspicious extensions immediately.',
    serviceRecommendation: 'Our browser cleanup service ($50 add-on to virus removal) includes extension removal, browser reset, and security hardening.',
    choices: [
      { id: 'remove-extensions-guide', text: 'How to Remove Extensions?', nextStep: 'browser-extension-guide' },
      { id: 'professional-browser-cleanup', text: 'Professional Browser Cleanup', nextStep: 'virus-removal-service' },
      { id: 'call-extension-help', text: 'Call for Help', nextStep: 'contact-service' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  'virus-system-adware': {
    id: 'virus-system-adware',
    type: 'service',
    title: 'System-Level Adware',
    content: 'Pop-ups appearing outside the browser indicate system-level adware infection. This requires professional removal.',
    serviceRecommendation: 'Complete adware removal service ($99) includes deep system scanning, malware removal, and system hardening to prevent reinfection.',
    urgencyLevel: 'medium',
    choices: [
      { id: 'emergency-adware-removal', text: 'Emergency Adware Removal', nextStep: 'emergency-service' },
      { id: 'book-adware-removal', text: 'Book Adware Removal ($99)', nextStep: 'virus-removal-service' },
      { id: 'adware-emergency-tips', text: 'Emergency Tips', nextStep: 'adware-emergency-steps' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  'virus-malicious-adware': {
    id: 'virus-malicious-adware',
    type: 'service',
    title: 'Malicious Adware Infection',
    content: 'Random pop-ups from unknown sources indicate a serious malware infection that could compromise your personal data.',
    serviceRecommendation: 'URGENT: Complete malware removal ($99) and security audit. This type of infection often includes data theft components.',
    urgencyLevel: 'high',
    choices: [
      { id: 'urgent-malware-removal', text: 'Urgent Malware Removal', nextStep: 'emergency-service' },
      { id: 'secure-data-first', text: 'Secure My Data First', nextStep: 'virus-data-security' },
      { id: 'call-malware-emergency', text: 'Call Emergency Line', nextStep: 'contact-service' }
    ]
  },

  // Performance Impact Branch
  'virus-performance': {
    id: 'virus-performance',
    type: 'diagnostic',
    title: 'Virus-Related Slowness',
    content: 'When did the slowness start, and have you noticed any other symptoms?',
    choices: [
      { id: 'sudden-slowness', text: 'Sudden slowness with other symptoms', nextStep: 'virus-acute-infection' },
      { id: 'gradual-with-symptoms', text: 'Gradual slowness with pop-ups/ads', nextStep: 'virus-progressive-infection' },
      { id: 'slow-only', text: 'Just slow, no other symptoms', nextStep: 'virus-stealth-malware' },
      { id: 'slow-with-crashes', text: 'Slow with frequent crashes', nextStep: 'virus-system-damage' }
    ]
  },

  'virus-acute-infection': {
    id: 'virus-acute-infection',
    type: 'service',
    title: 'Acute Virus Infection',
    content: 'Sudden slowness with other symptoms indicates an active virus infection that needs immediate attention.',
    serviceRecommendation: 'Emergency virus removal ($99) includes immediate infection containment, complete system cleaning, and security restoration.',
    urgencyLevel: 'high',
    choices: [
      { id: 'emergency-virus-removal', text: 'Emergency Virus Removal', nextStep: 'emergency-service' },
      { id: 'isolate-computer', text: 'How to Isolate Computer?', nextStep: 'virus-isolation-steps' },
      { id: 'call-virus-emergency', text: 'Call Virus Emergency', nextStep: 'contact-service' }
    ]
  },

  'virus-stealth-malware': {
    id: 'virus-stealth-malware',
    type: 'diagnostic',
    title: 'Stealth Malware Check',
    content: 'Some malware operates stealthily, causing only slowness. Do you have antivirus software running?',
    choices: [
      { id: 'antivirus-installed', text: 'Yes, antivirus is installed', nextStep: 'virus-av-bypass' },
      { id: 'no-antivirus', text: 'No antivirus software', nextStep: 'virus-unprotected-system' },
      { id: 'antivirus-expired', text: 'Antivirus expired/not updated', nextStep: 'virus-outdated-protection' },
      { id: 'unsure-antivirus', text: 'Not sure about antivirus', nextStep: 'virus-security-audit' }
    ]
  },

  'virus-av-bypass': {
    id: 'virus-av-bypass',
    type: 'service',
    title: 'Advanced Malware Detection',
    content: 'Some advanced malware can bypass antivirus software. Professional scanning with specialized tools is needed.',
    serviceRecommendation: 'Advanced malware removal ($99) uses professional-grade tools to detect and remove stealth malware that bypasses consumer antivirus.',
    choices: [
      { id: 'professional-scan', text: 'Professional Malware Scan', nextStep: 'virus-removal-service' },
      { id: 'multiple-scanners', text: 'Try Multiple Scanners?', nextStep: 'virus-multiple-scan-guide' },
      { id: 'call-advanced-help', text: 'Call for Advanced Help', nextStep: 'contact-service' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  // Unknown Programs Branch
  'virus-unknown-programs': {
    id: 'virus-unknown-programs',
    type: 'diagnostic',
    title: 'Unknown Programs Running',
    content: 'Where are you seeing these unknown programs?',
    choices: [
      { id: 'programs-taskbar', text: 'Icons in taskbar/system tray', nextStep: 'virus-taskbar-programs' },
      { id: 'programs-startup', text: 'Programs starting automatically', nextStep: 'virus-startup-malware' },
      { id: 'programs-running-background', text: 'Found in Task Manager', nextStep: 'virus-background-processes' },
      { id: 'programs-desktop', text: 'New icons on desktop', nextStep: 'virus-desktop-malware' }
    ]
  },

  'virus-taskbar-programs': {
    id: 'virus-taskbar-programs',
    type: 'diagnostic',
    title: 'Taskbar Unknown Programs',
    content: 'Can you describe what these unknown programs look like or what they\'re called?',
    choices: [
      { id: 'suspicious-security', text: 'Fake security/antivirus programs', nextStep: 'virus-fake-antivirus' },
      { id: 'unknown-icons', text: 'Random icons with weird names', nextStep: 'virus-random-malware' },
      { id: 'browser-related', text: 'Browser or search-related', nextStep: 'virus-browser-hijack' },
      { id: 'cant-identify', text: 'Can\'t identify what they are', nextStep: 'virus-identification-help' }
    ]
  },

  'virus-fake-antivirus': {
    id: 'virus-fake-antivirus',
    type: 'service',
    title: 'Fake Antivirus Malware',
    content: 'Fake security programs are dangerous malware that steal personal information and money. This is a critical security issue.',
    serviceRecommendation: 'URGENT: Fake antivirus removal ($99) includes immediate threat removal, data security audit, and real protection installation.',
    urgencyLevel: 'high',
    choices: [
      { id: 'emergency-fake-av-removal', text: 'Emergency Removal', nextStep: 'emergency-service' },
      { id: 'secure-accounts', text: 'Secure My Accounts First', nextStep: 'virus-account-security' },
      { id: 'call-fake-av-emergency', text: 'Call Security Emergency', nextStep: 'contact-service' }
    ]
  },

  'virus-startup-malware': {
    id: 'virus-startup-malware',
    type: 'service',
    title: 'Startup Malware Infection',
    content: 'Programs starting automatically without your permission indicate malware infection designed for persistence.',
    serviceRecommendation: 'Startup malware removal ($99) includes deep cleaning, startup repair, and prevention measures to stop reinfection.',
    urgencyLevel: 'medium',
    choices: [
      { id: 'remove-startup-malware', text: 'Remove Startup Malware', nextStep: 'virus-removal-service' },
      { id: 'disable-programs-guide', text: 'DIY Disable Programs?', nextStep: 'startup-malware-disable' },
      { id: 'call-startup-help', text: 'Call for Help', nextStep: 'contact-service' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  // Browser Hijacking Branch
  'virus-browser': {
    id: 'virus-browser',
    type: 'diagnostic',
    title: 'Browser Hijacking',
    content: 'How has your browser been changed?',
    choices: [
      { id: 'homepage-changed', text: 'Homepage changed to unknown site', nextStep: 'virus-homepage-hijack' },
      { id: 'search-changed', text: 'Search engine changed', nextStep: 'virus-search-hijack' },
      { id: 'toolbar-installed', text: 'Unknown toolbar installed', nextStep: 'virus-toolbar-malware' },
      { id: 'redirects-different-sites', text: 'Redirects to different sites', nextStep: 'virus-redirect-malware' },
      { id: 'browser-slow-ads', text: 'Browser slow with many ads', nextStep: 'virus-browser-adware' }
    ]
  },

  'virus-homepage-hijack': {
    id: 'virus-homepage-hijack',
    type: 'diagnostic',
    title: 'Homepage Hijacking',
    content: 'What does your new homepage look like?',
    choices: [
      { id: 'fake-search-page', text: 'Fake search engine page', nextStep: 'virus-fake-search' },
      { id: 'advertising-page', text: 'Page full of advertisements', nextStep: 'virus-ad-homepage' },
      { id: 'suspicious-download-page', text: 'Page promoting downloads', nextStep: 'virus-malicious-homepage' },
      { id: 'cant-change-back', text: 'Can\'t change it back', nextStep: 'virus-persistent-hijack' }
    ]
  },

  'virus-fake-search': {
    id: 'virus-fake-search',
    type: 'service',
    title: 'Fake Search Engine Hijack',
    content: 'Fake search engines track your searches and can redirect you to malicious sites. This compromises your privacy and security.',
    serviceRecommendation: 'Browser hijack removal ($99) includes complete browser reset, search engine restoration, and security hardening.',
    choices: [
      { id: 'remove-fake-search', text: 'Remove Fake Search Engine', nextStep: 'virus-removal-service' },
      { id: 'browser-reset-guide', text: 'DIY Browser Reset?', nextStep: 'browser-reset-guide' },
      { id: 'call-hijack-help', text: 'Call for Help', nextStep: 'contact-service' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  'virus-redirect-malware': {
    id: 'virus-redirect-malware',
    type: 'service',
    title: 'Browser Redirect Malware',
    content: 'Browser redirects indicate serious malware that can steal personal information and expose you to further attacks.',
    serviceRecommendation: 'URGENT: Complete malware removal ($99) including browser restoration, system cleaning, and security audit.',
    urgencyLevel: 'high',
    choices: [
      { id: 'urgent-redirect-removal', text: 'Urgent Malware Removal', nextStep: 'emergency-service' },
      { id: 'stop-using-browser', text: 'Should I Stop Using Browser?', nextStep: 'virus-browser-safety' },
      { id: 'call-redirect-emergency', text: 'Call Emergency Line', nextStep: 'contact-service' }
    ]
  },

  // Email Compromise Branch
  'virus-email-compromise': {
    id: 'virus-email-compromise',
    type: 'diagnostic',
    title: 'Email Security Compromise',
    content: 'This is a serious security issue. What type of suspicious emails are being sent?',
    urgencyLevel: 'high',
    choices: [
      { id: 'spam-from-account', text: 'Spam emails from my account', nextStep: 'virus-email-hijack' },
      { id: 'suspicious-links', text: 'Emails with suspicious links', nextStep: 'virus-email-malware' },
      { id: 'friends-complaining', text: 'Friends say I sent weird emails', nextStep: 'virus-email-hijack' },
      { id: 'cant-access-email', text: 'Can\'t access my email account', nextStep: 'virus-account-lockout' }
    ]
  },

  'virus-email-hijack': {
    id: 'virus-email-hijack',
    type: 'service',
    title: 'Email Account Hijacking',
    content: 'Your email account has been compromised. This is a critical security emergency requiring immediate action.',
    serviceRecommendation: 'EMERGENCY: Account security service ($150) includes malware removal, account recovery, password security, and monitoring setup.',
    urgencyLevel: 'emergency',
    choices: [
      { id: 'emergency-account-recovery', text: 'Emergency Account Recovery', nextStep: 'emergency-service' },
      { id: 'change-passwords-now', text: 'Change Passwords Immediately', nextStep: 'virus-password-security' },
      { id: 'call-security-emergency', text: 'Call Security Emergency', nextStep: 'contact-service' }
    ]
  },

  'virus-account-lockout': {
    id: 'virus-account-lockout',
    type: 'service',
    title: 'Account Lockout Emergency',
    content: 'Being locked out of your email suggests your account has been hijacked. This is a critical security emergency.',
    serviceRecommendation: 'EMERGENCY: Complete account recovery service ($150) includes malware removal, account restoration, and security hardening.',
    urgencyLevel: 'emergency',
    choices: [
      { id: 'emergency-account-restore', text: 'Emergency Account Restore', nextStep: 'emergency-service' },
      { id: 'account-recovery-steps', text: 'Emergency Recovery Steps', nextStep: 'virus-emergency-recovery' },
      { id: 'call-account-emergency', text: 'Call Account Emergency', nextStep: 'contact-service' }
    ]
  },

  // Ransomware Branch
  'virus-ransomware': {
    id: 'virus-ransomware',
    type: 'service',
    title: 'Ransomware Attack',
    content: 'This is a CRITICAL EMERGENCY. Ransomware encrypts your files and demands payment. Do NOT pay the ransom.',
    serviceRecommendation: 'EMERGENCY: Stop using computer immediately. Ransomware recovery service ($300) includes system isolation, file recovery attempts, and security restoration.',
    urgencyLevel: 'emergency',
    choices: [
      { id: 'ransomware-emergency', text: 'Ransomware Emergency Service', nextStep: 'emergency-service' },
      { id: 'isolate-computer-now', text: 'Isolate Computer NOW', nextStep: 'ransomware-isolation' },
      { id: 'call-ransomware-911', text: 'Call Ransomware 911', nextStep: 'contact-service' }
    ]
  },

  'ransomware-isolation': {
    id: 'ransomware-isolation',
    type: 'solution',
    title: 'Ransomware Isolation Steps',
    content: 'IMMEDIATE ACTIONS:\n1. Disconnect from internet NOW\n2. Power off computer immediately\n3. Do NOT restart or use computer\n4. Call (757) 375-6764 for emergency service\n5. Do NOT pay any ransom demands',
    urgencyLevel: 'emergency',
    choices: [
      { id: 'computer-isolated', text: 'Computer Isolated - Call Now', nextStep: 'contact-service' },
      { id: 'cant-isolate', text: 'Can\'t Turn Off Computer', nextStep: 'ransomware-force-shutdown' },
      { id: 'need-files-back', text: 'Need Files Back Urgently', nextStep: 'ransomware-recovery-options' }
    ]
  },

  // Prevention and Security Education
  'virus-prevention': {
    id: 'virus-prevention',
    type: 'solution',
    title: 'Virus Prevention Best Practices',
    content: 'Essential security practices:\n\n• Keep Windows and software updated\n• Use reputable antivirus software\n• Don\'t click suspicious links or email attachments\n• Only download software from official websites\n• Regular system backups\n• Use strong, unique passwords',
    serviceRecommendation: 'Our Protection Plans include 24/7 monitoring, automatic updates, and professional antivirus starting at $19.99/month.',
    choices: [
      { id: 'protection-plans', text: 'Learn About Protection Plans', nextStep: 'protection-plans' },
      { id: 'antivirus-recommendations', text: 'Antivirus Recommendations', nextStep: 'antivirus-advice' },
      { id: 'security-audit', text: 'Security Audit Service', nextStep: 'virus-security-audit' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  // Emergency Steps and Guides
  'virus-emergency-steps': {
    id: 'virus-emergency-steps',
    type: 'solution',
    title: 'Virus Emergency Steps',
    content: 'IMMEDIATE ACTIONS for virus infections:\n\n1. Disconnect from internet\n2. Don\'t log into any accounts\n3. Don\'t enter passwords or personal info\n4. Run antivirus scan if available\n5. Call (757) 375-6764 for emergency help',
    urgencyLevel: 'high',
    choices: [
      { id: 'emergency-virus-service', text: 'Emergency Virus Service', nextStep: 'emergency-service' },
      { id: 'safe-mode-virus', text: 'Try Safe Mode Scan?', nextStep: 'virus-safe-mode-guide' },
      { id: 'call-virus-help', text: 'Call for Immediate Help', nextStep: 'contact-service' }
    ]
  },

  'adware-emergency-steps': {
    id: 'adware-emergency-steps',
    type: 'solution',
    title: 'Adware Emergency Steps',
    content: 'To minimize adware damage:\n\n1. Close all browser windows\n2. Don\'t click on any pop-ups\n3. Restart computer in Safe Mode\n4. Run antivirus scan\n5. Avoid online banking/shopping until cleaned',
    choices: [
      { id: 'safe-mode-adware', text: 'Safe Mode Instructions', nextStep: 'virus-safe-mode-guide' },
      { id: 'professional-adware-help', text: 'Get Professional Help', nextStep: 'virus-removal-service' },
      { id: 'call-adware-help', text: 'Call for Help', nextStep: 'contact-service' }
    ]
  },

  'virus-safe-mode-guide': {
    id: 'virus-safe-mode-guide',
    type: 'solution',
    title: 'Safe Mode Virus Scanning',
    content: 'To start in Safe Mode:\n1. Restart computer\n2. Press F8 repeatedly during startup\n3. Select "Safe Mode with Networking"\n4. Run full antivirus scan\n5. Remove found threats\n\nIf this doesn\'t work, professional help is needed.',
    choices: [
      { id: 'safe-mode-worked', text: 'Safe Mode Scan Worked!', nextStep: 'virus-scan-success' },
      { id: 'safe-mode-failed', text: 'Scan Found Nothing', nextStep: 'virus-hidden-malware' },
      { id: 'cant-safe-mode', text: 'Can\'t Get to Safe Mode', nextStep: 'virus-removal-service' },
      { id: 'scan-found-threats', text: 'Found Threats, Need Help', nextStep: 'virus-removal-service' }
    ]
  },

  'browser-extension-guide': {
    id: 'browser-extension-guide',
    type: 'solution',
    title: 'Remove Browser Extensions',
    content: 'To remove malicious extensions:\n\nChrome: Menu → More Tools → Extensions\nFirefox: Menu → Add-ons → Extensions\nEdge: Menu → Extensions\n\nRemove any extensions you don\'t recognize or didn\'t install.',
    choices: [
      { id: 'extensions-removed', text: 'Removed Extensions', nextStep: 'browser-extension-success' },
      { id: 'extensions-wont-remove', text: 'Can\'t Remove Extensions', nextStep: 'virus-persistent-malware' },
      { id: 'need-extension-help', text: 'Need Help Removing', nextStep: 'contact-service' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  'browser-reset-guide': {
    id: 'browser-reset-guide',
    type: 'solution',
    title: 'Browser Reset Instructions',
    content: 'To reset your browser:\n\nChrome: Settings → Advanced → Reset\nFirefox: Help → Troubleshooting → Refresh\nEdge: Settings → Reset settings\n\nThis removes malicious changes but keeps bookmarks.',
    choices: [
      { id: 'browser-reset-worked', text: 'Browser Reset Worked!', nextStep: 'browser-reset-success' },
      { id: 'browser-still-hijacked', text: 'Still Hijacked After Reset', nextStep: 'virus-persistent-hijack' },
      { id: 'need-reset-help', text: 'Need Help with Reset', nextStep: 'contact-service' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  // Security and Recovery Services
  'virus-security-audit': {
    id: 'virus-security-audit',
    type: 'service',
    title: 'Complete Security Audit',
    content: 'A comprehensive security audit checks for vulnerabilities, malware, and security gaps in your system.',
    serviceRecommendation: 'Security audit service ($125) includes malware scanning, vulnerability assessment, security software review, and hardening recommendations.',
    choices: [
      { id: 'book-security-audit', text: 'Book Security Audit', nextStep: 'book-service' },
      { id: 'audit-plus-cleanup', text: 'Audit + Cleanup Service', nextStep: 'virus-removal-service' },
      { id: 'call-security-questions', text: 'Call with Questions', nextStep: 'contact-service' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  'virus-data-security': {
    id: 'virus-data-security',
    type: 'solution',
    title: 'Secure Your Data',
    content: 'If malware has compromised your system:\n\n1. Change all passwords from a clean device\n2. Monitor bank/credit accounts\n3. Enable 2-factor authentication\n4. Consider credit monitoring\n5. Back up important files to external drive',
    urgencyLevel: 'high',
    choices: [
      { id: 'password-security-help', text: 'Password Security Help', nextStep: 'virus-password-security' },
      { id: 'account-monitoring', text: 'Account Monitoring Service', nextStep: 'virus-account-monitoring' },
      { id: 'data-backup-service', text: 'Emergency Data Backup', nextStep: 'data-recovery-service' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  'virus-password-security': {
    id: 'virus-password-security',
    type: 'solution',
    title: 'Password Security After Compromise',
    content: 'After a security compromise:\n\n1. Change passwords from a clean device\n2. Use unique passwords for each account\n3. Enable 2-factor authentication\n4. Use a password manager\n5. Monitor accounts for suspicious activity',
    serviceRecommendation: 'Our account security service ($100) includes password audit, 2FA setup, and security monitoring configuration.',
    choices: [
      { id: 'password-manager-setup', text: 'Password Manager Setup', nextStep: 'contact-service' },
      { id: 'account-security-service', text: 'Complete Account Security', nextStep: 'virus-removal-service' },
      { id: 'monitor-accounts', text: 'Account Monitoring Tips', nextStep: 'virus-account-monitoring' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  // Success States
  'virus-scan-success': {
    id: 'virus-scan-success',
    type: 'solution',
    title: 'Virus Scan Success!',
    content: 'Great! The antivirus scan found and removed threats. Your computer should be much safer now.',
    serviceRecommendation: 'Consider our Protection Plan ($19.99/month) to prevent future infections with 24/7 monitoring and automatic updates.',
    choices: [
      { id: 'virus-prevention-plan', text: 'Virus Prevention Plan', nextStep: 'protection-plans' },
      { id: 'security-tips', text: 'Security Maintenance Tips', nextStep: 'virus-prevention' },
      { id: 'security-checkup', text: 'Complete Security Checkup', nextStep: 'virus-security-audit' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  'browser-extension-success': {
    id: 'browser-extension-success',
    type: 'solution',
    title: 'Extensions Removed Successfully!',
    content: 'Excellent! Removing malicious extensions should stop the pop-ups and restore normal browser behavior.',
    choices: [
      { id: 'browser-security-tips', text: 'Browser Security Tips', nextStep: 'browser-security-guide' },
      { id: 'full-system-scan', text: 'Should I Scan Whole System?', nextStep: 'virus-removal-service' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  'browser-reset-success': {
    id: 'browser-reset-success',
    type: 'solution',
    title: 'Browser Reset Successful!',
    content: 'Great! Your browser has been restored to clean settings. The hijacking should be resolved.',
    choices: [
      { id: 'browser-hardening', text: 'Browser Security Hardening', nextStep: 'browser-security-guide' },
      { id: 'system-scan-after-reset', text: 'Scan System for More Malware?', nextStep: 'virus-removal-service' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  // Persistent/Advanced Malware
  'virus-persistent-malware': {
    id: 'virus-persistent-malware',
    type: 'service',
    title: 'Persistent Malware Infection',
    content: 'Malware that can\'t be easily removed indicates advanced infection requiring professional tools and expertise.',
    serviceRecommendation: 'Advanced malware removal ($149) uses specialized tools to remove persistent threats that resist normal removal attempts.',
    urgencyLevel: 'high',
    choices: [
      { id: 'advanced-malware-removal', text: 'Advanced Malware Removal', nextStep: 'virus-removal-service' },
      { id: 'system-rebuild', text: 'Complete System Rebuild?', nextStep: 'system-rebuild-consultation' },
      { id: 'call-persistent-help', text: 'Call for Expert Help', nextStep: 'contact-service' }
    ]
  },

  'virus-hidden-malware': {
    id: 'virus-hidden-malware',
    type: 'service',
    title: 'Hidden Malware Detection',
    content: 'Some malware hides from standard antivirus scans. Professional detection tools are needed.',
    serviceRecommendation: 'Deep malware scanning ($99) uses multiple professional tools to detect hidden threats that bypass consumer antivirus.',
    choices: [
      { id: 'deep-malware-scan', text: 'Deep Malware Scanning', nextStep: 'virus-removal-service' },
      { id: 'bootable-scan', text: 'Bootable Antivirus Scan?', nextStep: 'bootable-scan-guide' },
      { id: 'call-hidden-malware-help', text: 'Call for Help', nextStep: 'contact-service' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  },

  // Additional specialized flows
  'antivirus-advice': {
    id: 'antivirus-advice',
    type: 'solution',
    title: 'Antivirus Software Recommendations',
    content: 'Recommended antivirus solutions:\n\n• Windows Defender (built-in, free)\n• Bitdefender (premium choice)\n• Kaspersky (advanced protection)\n• Norton (comprehensive suite)\n\nAvoid fake antivirus and sketchy free versions.',
    serviceRecommendation: 'Our security setup service ($75) includes professional antivirus installation, configuration, and training.',
    choices: [
      { id: 'antivirus-setup-service', text: 'Professional Antivirus Setup', nextStep: 'virus-removal-service' },
      { id: 'free-vs-paid-antivirus', text: 'Free vs Paid Antivirus?', nextStep: 'antivirus-comparison' },
      { id: 'protection-plan-antivirus', text: 'Antivirus in Protection Plan', nextStep: 'protection-plans' },
      { id: 'back-main', text: 'Back to Main Menu', nextStep: 'start' }
    ]
  }
};